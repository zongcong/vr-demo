import{d as o}from"./three.module-9041595f.js";const M=new o,w=new o,x=new o,k=1e-10;class l{constructor(t=new o(0,0,0),n=new o(0,1,0),i=1){this.start=t,this.end=n,this.radius=i}clone(){return new l(this.start.clone(),this.end.clone(),this.radius)}set(t,n,i){this.start.copy(t),this.end.copy(n),this.radius=i}copy(t){this.start.copy(t.start),this.end.copy(t.end),this.radius=t.radius}getCenter(t){return t.copy(this.end).add(this.start).multiplyScalar(.5)}translate(t){this.start.add(t),this.end.add(t)}checkAABBAxis(t,n,i,a,d,h,m,r,s){return(d-t<s||d-i<s)&&(t-h<s||i-h<s)&&(m-n<s||m-a<s)&&(n-r<s||a-r<s)}intersectsBox(t){return this.checkAABBAxis(this.start.x,this.start.y,this.end.x,this.end.y,t.min.x,t.max.x,t.min.y,t.max.y,this.radius)&&this.checkAABBAxis(this.start.x,this.start.z,this.end.x,this.end.z,t.min.x,t.max.x,t.min.z,t.max.z,this.radius)&&this.checkAABBAxis(this.start.y,this.start.z,this.end.y,this.end.z,t.min.y,t.max.y,t.min.z,t.max.z,this.radius)}lineLineMinimumPoints(t,n){const i=M.copy(t.end).sub(t.start),a=w.copy(n.end).sub(n.start),d=x.copy(n.start).sub(t.start),h=i.dot(a),m=i.dot(i),r=a.dot(a),s=a.dot(d),p=i.dot(d);let e,c;const y=m*r-h*h;if(Math.abs(y)<k){const u=-s/r,A=(h-s)/r;Math.abs(u-.5)<Math.abs(A-.5)?(e=0,c=u):(e=1,c=A)}else e=(s*h+p*r)/y,c=(e*h-s)/r;c=Math.max(0,Math.min(1,c)),e=Math.max(0,Math.min(1,e));const B=i.multiplyScalar(e).add(t.start),z=a.multiplyScalar(c).add(n.start);return[B,z]}}export{l as C};
